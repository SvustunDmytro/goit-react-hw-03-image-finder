{"version":3,"sources":["Components/PhotoCard/PhotoCard.module.css","Containers/App/App.module.css","Components/SearchForm/SearchForm.module.css","Components/Modal/Modal.jsx","Components/PhotoCard/PhotoCard.jsx","Containers/Gallery/Gallery.jsx","Components/SearchForm/SearchForm.jsx","Containers/App/App.jsx","index.js","Containers/Gallery/Gallery.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","Modal","overlayRef","createRef","handleKeyPress","e","code","props","onClose","handleOverlayClick","current","target","window","addEventListener","this","removeEventListener","filtredPicture","role","className","styles","overlay","onClick","ref","modal","src","largeImageURL","alt","tags","Component","PhotoCard","totalHits","pictureZoom","map","el","photo__card","key","id","webformatURL","stats","stats__item","likes","views","comments","downloads","type","fullscreen__button","defaultProps","Gallery","state","isLarge","link","parentNode","firstChild","find","element","setState","handleClick","GalleryWrapper","gallery","button","SearchForm","onChange","onSubmit","search__form","autoComplete","placeholder","URL","App","query","page","scroll","fetchImages","axios","get","then","response","data","handleChange","preventDefault","value","hits","prevProps","prevState","scrollTo","top","behavior","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cce2616b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo__card\":\"PhotoCard_photo__card__3B6xp\",\"stats\":\"PhotoCard_stats__2KZP-\",\"stats__item\":\"PhotoCard_stats__item__teAe7\",\"fullscreen__button\":\"PhotoCard_fullscreen__button___ed4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__KOCR5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-form\":\"SearchForm_search-form__fSP6V\"};","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { filtredPicture } = this.props;\n    return (\n      <div\n        role=\"presentation\"\n        className={styles.overlay}\n        onClick={this.handleOverlayClick}\n        ref={this.overlayRef}\n      >\n        <div className={styles.modal}>\n          <img src={filtredPicture.largeImageURL} alt={filtredPicture.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  filtredPicture: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({ totalHits, pictureZoom }) => (\n  <>\n    {totalHits &&\n      totalHits.map(el => (\n        <div className={styles.photo__card} key={el.id}>\n          <img src={el.webformatURL} alt={el.tags} />\n          <div className={styles.stats}>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">thumb_up</i>\n              {el.likes}\n            </p>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">visibility</i>\n              {el.views}\n            </p>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">comment</i>\n              {el.comments}\n            </p>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">cloud_download</i>\n              {el.downloads}\n            </p>\n          </div>\n\n          <button\n            type=\"button\"\n            className={styles.fullscreen__button}\n            onClick={pictureZoom}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        </div>\n      ))}\n  </>\n);\n\nPhotoCard.propTypes = {\n  totalHits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n  pictureZoom: PropTypes.func.isRequired,\n};\n\nPhotoCard.defaultProps = {\n  // bla: 'test',\n};\n\nexport default PhotoCard;\n","/* eslint-disable react/state-in-constructor */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport Modal from '../../Components/Modal/Modal';\nimport PhotoCard from '../../Components/PhotoCard/PhotoCard';\n\nclass Gallery extends Component {\n  state = {\n    isLarge: false,\n    filtredPicture: '',\n  };\n\n  pictureZoom = e => {\n    const { totalHits } = this.props;\n    const link = e.target.parentNode.parentNode.firstChild.src;\n\n    const filtredPicture = totalHits.find(\n      element => element.webformatURL === link,\n    );\n    this.setState({\n      isLarge: true,\n      filtredPicture,\n    });\n  };\n\n  onClose = () => {\n    this.setState({ isLarge: false });\n  };\n\n  render() {\n    const { totalHits, handleClick } = this.props;\n    const { isLarge, filtredPicture } = this.state;\n    return (\n      <div className={styles.GalleryWrapper}>\n        <ul className={styles.gallery}>\n          <PhotoCard totalHits={totalHits} pictureZoom={this.pictureZoom} />\n          {isLarge && (\n            <Modal onClose={this.onClose} filtredPicture={filtredPicture} />\n          )}\n        </ul>\n        <button type=\"button\" className={styles.button} onClick={handleClick}>\n          Load More\n        </button>\n      </div>\n    );\n  }\n}\n\nGallery.propTypes = {\n  totalHits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ onChange }) => (\n  <div className=\"SearchFormWrapper\" onSubmit={onChange}>\n    <form className={styles.search__form}>\n      <input type=\"text\" autoComplete=\"off\" placeholder=\"Search images...\" />\n    </form>\n  </div>\n);\n\nSearchForm.propTypes = {\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","/* eslint-disable react/state-in-constructor */\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport styles from './App.module.css';\nimport Gallery from '../Gallery/Gallery';\nimport SearchForm from '../../Components/SearchForm/SearchForm';\n\nconst URL =\n  'https://pixabay.com/api/?key=14161279-eaec42196a52c7ac05c722c91&image_type=photo&orientation=horizontal&';\n\nclass App extends Component {\n  state = {\n    query: 'car',\n    page: 1,\n    totalHits: [],\n    scroll: 1500,\n  };\n\n  componentDidMount() {\n    this.fetchImages().then(data =>\n      this.setState({\n        totalHits: data.hits,\n      }),\n    );\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.query !== query) {\n      this.fetchImages().then(data =>\n        this.setState(state => ({\n          ...state,\n          totalHits: data.hits,\n          page: 1,\n        })),\n      );\n    }\n    if (prevState.page !== page) {\n      this.fetchImages().then(data =>\n        this.setState(state => ({\n          totalHits: [...state.totalHits, ...data.hits],\n          scroll: state.scroll + 1500,\n        })),\n      );\n    }\n\n    window.scrollTo({ top: prevState.scroll + 1500, behavior: 'smooth' });\n  }\n\n  fetchImages = () => {\n    return axios\n      .get(\n        `${URL}&q=${this.state.query}` +\n          `&page=${this.state.page}` +\n          `&per_page=12`,\n      )\n      .then(response => response.data);\n  };\n\n  handleChange = e => {\n    e.preventDefault();\n\n    this.setState({\n      query: e.target.firstChild.value,\n    });\n  };\n\n  handleClick = () => {\n    this.setState(state => ({ ...state, page: state.page + 1 }));\n  };\n\n  render() {\n    const { totalHits } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm onChange={this.handleChange} />\n        <Gallery totalHits={totalHits} handleClick={this.handleClick} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Containers/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1oxMX\",\"GalleryWrapper\":\"Gallery_GalleryWrapper__2oCVB\",\"button\":\"Gallery_button__12Av4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3FFX4\",\"modal\":\"Modal_modal__2kZBx\"};"],"sourceRoot":""}