{"version":3,"sources":["Components/PhotoCard/PhotoCard.module.css","Containers/App/App.module.css","Components/SearchForm/SearchForm.module.css","Components/Modal/Modal.jsx","Components/PhotoCard/PhotoCard.jsx","Containers/Gallery/Gallery.jsx","Components/SearchForm/SearchForm.jsx","service/api-service.jsx","Containers/App/App.jsx","index.js","Containers/Gallery/Gallery.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","Modal","overlayRef","createRef","handleKeyPress","e","code","props","onClose","handleOverlayClick","current","target","window","addEventListener","this","removeEventListener","fullScreenPicture","role","className","styles","overlay","onClick","ref","modal","src","largeImageURL","alt","tags","Component","PhotoCard","totalHits","pictureZoom","map","el","photo__card","key","id","webformatURL","stats","stats__item","likes","views","comments","downloads","type","fullscreen__button","Gallery","state","isLarge","setState","handleClick","GalleryWrapper","gallery","button","SearchForm","onChange","onSubmit","search__form","autoComplete","placeholder","URL","apiService","query","page","axios","get","then","response","data","App","scroll","handleChange","preventDefault","firstChild","value","reset","hits","catch","error","prevProps","prevState","scrollTo","top","behavior","app","message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.80fa01bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo__card\":\"PhotoCard_photo__card__3B6xp\",\"stats\":\"PhotoCard_stats__2KZP-\",\"stats__item\":\"PhotoCard_stats__item__teAe7\",\"fullscreen__button\":\"PhotoCard_fullscreen__button___ed4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__KOCR5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-form\":\"SearchForm_search-form__fSP6V\"};","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  overlayRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.onClose();\n  };\n\n  handleOverlayClick = e => {\n    const { current } = this.overlayRef;\n\n    if (current && e.target !== current) {\n      return;\n    }\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { fullScreenPicture } = this.props;\n    return (\n      <div\n        role=\"presentation\"\n        className={styles.overlay}\n        onClick={this.handleOverlayClick}\n        ref={this.overlayRef}\n      >\n        <div className={styles.modal}>\n          <img\n            src={fullScreenPicture.largeImageURL}\n            alt={fullScreenPicture.tags}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  fullScreenPicture: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n    tags: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({ totalHits, pictureZoom }) => (\n  <>\n    {totalHits &&\n      totalHits.map(el => (\n        <div className={styles.photo__card} key={el.id}>\n          <img src={el.webformatURL} alt={el.tags} />\n          <div className={styles.stats}>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">thumb_up</i>\n              {el.likes}\n            </p>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">visibility</i>\n              {el.views}\n            </p>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">comment</i>\n              {el.comments}\n            </p>\n            <p className={styles.stats__item}>\n              <i className=\"material-icons\">cloud_download</i>\n              {el.downloads}\n            </p>\n          </div>\n\n          <button\n            type=\"button\"\n            className={styles.fullscreen__button}\n            onClick={() => pictureZoom(el)}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        </div>\n      ))}\n  </>\n);\n\nPhotoCard.propTypes = {\n  totalHits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n  pictureZoom: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","/* eslint-disable react/state-in-constructor */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport Modal from '../../Components/Modal/Modal';\nimport PhotoCard from '../../Components/PhotoCard/PhotoCard';\n\nclass Gallery extends Component {\n  state = {\n    isLarge: false,\n    fullScreenPicture: '',\n  };\n\n  pictureZoom = el => {\n    this.setState({\n      isLarge: true,\n      fullScreenPicture: el,\n    });\n  };\n\n  onClose = () => {\n    this.setState({ isLarge: false });\n  };\n\n  render() {\n    const { totalHits, handleClick } = this.props;\n    const { isLarge, fullScreenPicture } = this.state;\n    return (\n      <div className={styles.GalleryWrapper}>\n        <ul className={styles.gallery}>\n          <PhotoCard totalHits={totalHits} pictureZoom={this.pictureZoom} />\n          {isLarge && (\n            <Modal\n              onClose={this.onClose}\n              fullScreenPicture={fullScreenPicture}\n            />\n          )}\n        </ul>\n        <button type=\"button\" className={styles.button} onClick={handleClick}>\n          Load More\n        </button>\n      </div>\n    );\n  }\n}\n\nGallery.propTypes = {\n  totalHits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  handleClick: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ onChange }) => (\n  <div className=\"SearchFormWrapper\" onSubmit={onChange}>\n    <form className={styles.search__form}>\n      <input type=\"text\" autoComplete=\"off\" placeholder=\"Search images...\" />\n    </form>\n  </div>\n);\n\nSearchForm.propTypes = {\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import axios from 'axios';\n\nconst URL =\n  'https://pixabay.com/api/?key=14161279-eaec42196a52c7ac05c722c91&image_type=photo&orientation=horizontal&';\n\nconst apiService = (query = '', page = 1) =>\n  axios\n    .get(`${URL}&q=${query}&page=${page}&per_page=12`)\n    .then(response => response.data);\n\nexport default apiService;\n","/* eslint-disable react/state-in-constructor */\nimport React, { Component } from 'react';\nimport styles from './App.module.css';\nimport Gallery from '../Gallery/Gallery';\nimport SearchForm from '../../Components/SearchForm/SearchForm';\nimport apiService from '../../service/api-service';\n\nclass App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    totalHits: [],\n    scroll: 1500,\n  };\n\n  componentDidMount() {\n    const { query, page } = this.state;\n    if (query) {\n      apiService(query, page)\n        .then(data =>\n          this.setState({\n            totalHits: data.hits,\n          }),\n        )\n        .catch(error =>\n          this.setState({\n            error,\n          }),\n        );\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.query !== query) {\n      apiService(query, page)\n        .then(data =>\n          this.setState(state => ({\n            ...state,\n            totalHits: data.hits,\n            page: 1,\n          })),\n        )\n        .catch(error =>\n          this.setState({\n            error,\n          }),\n        );\n    }\n    if (prevState.page !== page && query) {\n      apiService(query, page)\n        .then(data =>\n          this.setState(state => ({\n            totalHits: [...state.totalHits, ...data.hits],\n            scroll: state.scroll + 1500,\n          })),\n        )\n        .catch(error =>\n          this.setState({\n            error,\n          }),\n        );\n    }\n\n    window.scrollTo({ top: prevState.scroll + 1500, behavior: 'smooth' });\n  }\n\n  handleChange = e => {\n    e.preventDefault();\n\n    this.setState({\n      query: e.target.firstChild.value,\n    });\n    e.target.reset();\n  };\n\n  handleClick = () => {\n    if (this.state.query) {\n      this.setState(state => ({ ...state, page: state.page + 1 }));\n    }\n  };\n\n  render() {\n    const { totalHits, error } = this.state;\n    return (\n      <div className={styles.app}>\n        {error ? (\n          <>${error.message}</>\n        ) : (\n          <>\n            <SearchForm onChange={this.handleChange} />\n            <Gallery totalHits={totalHits} handleClick={this.handleClick} />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Containers/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__1oxMX\",\"GalleryWrapper\":\"Gallery_GalleryWrapper__2oCVB\",\"button\":\"Gallery_button__12Av4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3FFX4\",\"modal\":\"Modal_modal__2kZBx\"};"],"sourceRoot":""}